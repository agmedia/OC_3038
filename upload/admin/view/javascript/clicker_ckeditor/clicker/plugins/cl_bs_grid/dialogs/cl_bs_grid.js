/**
 * Bootstrap Grid CKEditor plugin
 * Author: Cl!cker
 * Website: https://opencart.click
 *
 * Created specially for commercial OpenCart CKEditor Extension
 * Cannot be distributed or resold separately
 */

CKEDITOR.dialog.add("cl_bs_grid",function(g){var u=g.lang.cl_bs_grid,t=3;g.config.cl_bs_grid&&g.config.cl_bs_grid.bootstrap_version?t=parseInt(g.config.cl_bs_grid.bootstrap_version):(jQuery.fn.tooltip&&jQuery.fn.tooltip.Constructor&&jQuery.fn.tooltip.Constructor.VERSION&&(t=parseInt(String(jQuery.fn.tooltip.Constructor.VERSION).split(".")[0])),"undefined"!=typeof bootstrap&&bootstrap.Tooltip&&bootstrap.Tooltip.VERSION&&(t=parseInt(String(bootstrap.Tooltip.VERSION).split(".")[0]))),console.log("Bootstrap v."+t);var d=[["1",1],["2",2],["3",3],["4",4],["6",6],["12",12]];g.config.cl_bs_grid&&g.config.cl_bs_grid.col_columns&&(d=g.config.cl_bs_grid.col_columns);var p,e,l,o,f=[["col-2+10","2 + 10"],["col-10+2","10 + 2"],["col-3+9","3 + 9"],["col-9+3","9 + 3"],["col-4+8","4 + 8"],["col-8+4","8 + 4"],["col-5+7","5 + 7"],["col-7+5","7 + 5"],["col-3+6+3","3 + 6 + 3"],["col-3+3+6","3 + 3 + 6"],["col-6+3+3","6 + 3 + 3"],["col-3+3+3+3","3 + 3 + 3 + 3"]];function n(e){return function(){var t=this.getValue(),t=!!CKEDITOR.dialog.validate.notEmpty()(t);return t||alert(e),t}}return g.config.cl_bs_grid&&g.config.cl_bs_grid.col_templates&&(f=g.config.cl_bs_grid.col_templates),3==t?(p=[["(col-) "+u.xs,"col-"],["(col-sm) "+u.sm,"col-sm-"],["(col-md) "+u.md,"col-md-"],["(col-lg) "+u.lg,"col-lg-"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.col_breakpoints&&(p=g.config.cl_bs_grid.col_breakpoints),e=[["",""],["row-no-gutters","row-no-gutters"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.row_class_helper&&(e=g.config.cl_bs_grid.row_class_helper),l=[["",""],["text-left","text-left"],["text-right","text-right"],["text-center","text-center"],["text-justify","text-justify"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.col_class_helper&&(l=g.config.cl_bs_grid.col_class_helper),o=[{type:"html",html:'<a href="https://getbootstrap.com/docs/3.4/css/#grid" target="_blank" style="text-decoration:underline; cursor:pointer; color: #7952b3">Bootstrap 3 Grid</a>'}]):4==t?(p=[["(col) "+u.au,"col"],["(col-) "+u.xs,"col-"],["(col-sm) "+u.sm,"col-sm-"],["(col-md) "+u.md,"col-md-"],["(col-lg) "+u.lg,"col-lg-"],["(col-xl) "+u.xl,"col-xl-"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.col_breakpoints&&(p=g.config.cl_bs_grid.col_breakpoints),e=[["",""],["no-gutters","no-gutters"],["justify-content-start","justify-content-start"],["justify-content-center","justify-content-center"],["justify-content-end","justify-content-end"],["justify-content-around","justify-content-around"],["justify-content-between","justify-content-between"],["align-items-start","align-items-start"],["align-items-center","align-items-center"],["align-items-end","align-items-end"],["align-self-start","align-self-start"],["align-self-center","align-self-center"],["align-self-end","align-self-end"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.row_class_helper&&(e=g.config.cl_bs_grid.row_class_helper),l=[["",""],["text-left","text-left"],["text-right","text-right"],["text-center","text-center"],["text-justify","text-justify"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.col_class_helper&&(l=g.config.cl_bs_grid.col_class_helper),o=[{type:"html",html:'<a href="https://getbootstrap.com/docs/4.6/layout/grid/" target="_blank" style="text-decoration:underline; cursor:pointer; color: #7952b3">Bootstrap 4 Grid</a>'}]):4<t&&(p=[["(col) "+u.au,"col"],["(col-) "+u.xs,"col-"],["(col-sm) "+u.sm,"col-sm-"],["(col-md) "+u.md,"col-md-"],["(col-lg) "+u.lg,"col-lg-"],["(col-xl) "+u.xl,"col-xl-"],["(col-xxl) "+u.xxl,"col-xxl-"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.col_breakpoints&&(p=g.config.cl_bs_grid.col_breakpoints),e=[["",""],["no-gutters","no-gutters"],["justify-content-start","justify-content-start"],["justify-content-center","justify-content-center"],["justify-content-end","justify-content-end"],["justify-content-around","justify-content-around"],["justify-content-between","justify-content-between"],["align-items-start","align-items-start"],["align-items-center","align-items-center"],["align-items-end","align-items-end"],["align-self-start","align-self-start"],["align-self-center","align-self-center"],["align-self-end","align-self-end"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.row_class_helper&&(e=g.config.cl_bs_grid.row_class_helper),l=[["",""],["align-self-start","align-self-start"],["align-self-center","align-self-center"],["align-self-end","align-self-end"],["text-start","text-start"],["text-end","text-end"],["text-center","text-center"],["text-justify","text-justify"]],g.config.cl_bs_grid&&g.config.cl_bs_grid.col_class_helper&&(l=g.config.cl_bs_grid.col_class_helper),o=[{type:"html",html:'<a href="https://getbootstrap.com/docs/5.0/layout/grid/" target="_blank" style="text-decoration:underline; cursor:pointer; color: #7952b3">Bootstrap 5 Grid</a>'}]),void 0===window.cl_cke.clicker?(alert("This plugin cannot be executed outside Cl!cker OpenCart CKEditor Extension! "),{title:u.editBsGrid,contents:[{id:"info",label:u.infoTab,elements:[]}]}):{title:u.editBsGrid,minWidth:600,minHeight:190,onShow:function(){var t=g.getSelection(),e=(t.getRanges(),this.getName()),l=this.getContentElement("info","rowCount"),o=this.getContentElement("info","colCount"),n=this.getContentElement("info","breakpoint"),s=this.getContentElement("info","rowClass"),c=this.getContentElement("info","rowClassHelper"),r=this.getContentElement("info","colClass"),a=this.getContentElement("info","colClassHelper");"cl_bs_grid"===e&&((t=t.getSelectedElement())?(this.setupContent(t),l&&l.disable(),o&&o.disable(),n&&n.disable()):(a={rowsInput:l._.inputId,colsInput:o._.inputId,breakpointInput:n._.inputId,rowClassInput:s._.inputId,rowClassHelperInput:c._.inputId,colClassInput:r._.inputId,colClassHelperInput:a._.inputId,lang:u,col_columns:d,col_templates:f,col_breakpoints:p},setTimeout(function(e){if(!$("#"+e.colsInput).find("optgroup").length){var t=$("#"+e.colsInput).html(),l='<optgroup label="'+e.lang.equal_columns+'"></optgroup>'+t;if(e.col_templates)for(l+='<optgroup label="'+e.lang.templates+'"></optgroup>',i=0;i<e.col_templates.length;i++)l+='<option value="'+e.col_templates[i][0]+'">'+e.col_templates[i][1]+"</option>";$("#"+e.colsInput).html(l)}$("#"+e.rowClassHelperInput).on("change",function(){var t=$(this).val();t&&String(" "+$("#"+e.rowClassInput).val()).indexOf(" "+t)<0&&$("#"+e.rowClassInput).val(String($("#"+e.rowClassInput).val()+" "+t).trim()),$(this).val("")}),$("#"+e.colClassHelperInput).on("change",function(){var t=$(this).val();t&&String(" "+$("#"+e.colClassInput).val()).indexOf(" "+t)<0&&$("#"+e.colClassInput).val(String($("#"+e.colClassInput).val()+" "+t).trim()),$(this).val("")}),document.getElementById(e.rowsInput).value="1",document.getElementById(e.colsInput).value="2",document.getElementById(e.breakpointInput).value="col-lg-"},50,a)))},contents:[{id:"info",label:u.infoTab,accessKey:"I",elements:[{type:"html",html:'<h3 style="font-size: 130%; font-weight: 600;">Row</h3>'},{type:"hbox",widths:["50%","50%"],styles:["vertical-align:top"],children:[{id:"rowCount",type:"text",required:!0,label:u.numRows,validate:n(u.numRowsError),setup:function(t){this.setValue(t.data.rowCount)},commit:function(t){t.setData("rowCount",this.getValue())}}]},{type:"hbox",widths:["70%","30%"],styles:["vertical-align:top"],children:[{id:"rowClass",type:"text",required:!1,label:u.rowClass,setup:function(t){this.setValue(t.data.rowClass)},commit:function(t){t.setData("rowClass",this.getValue())}},{id:"rowClassHelper",type:"select",required:!1,label:u.select,items:e,setup:function(t){this.setValue(t.data.rowClassHelper)},commit:function(t){t.setData("rowClassHelper",this.getValue())}}]},{type:"html",html:'<br><h3 style="font-size: 130%; font-weight: 600;">Column</h3>'},{type:"hbox",widths:["50%","50%"],styles:["vertical-align:top"],children:[{id:"colCount",type:"select",required:!0,label:u.numCols,items:d,validate:n(u.numColsError),setup:function(t){this.setValue(t.data.colCount)},commit:function(t){t.setData("colCount",this.getValue())}},{id:"breakpoint",type:"select",required:!0,label:u.breakpoint,items:p,setup:function(t){this.setValue(t.data.breakpoint)},commit:function(t){t.setData("breakpoint",this.getValue())}}]},{type:"hbox",widths:["70%","30%"],styles:["vertical-align:top"],children:[{id:"colClass",type:"text",required:!1,label:u.colClass,setup:function(t){this.setValue(t.data.colClass)},commit:function(t){t.setData("colClass",this.getValue())}},{id:"colClassHelper",type:"select",required:!1,label:u.select,items:l,setup:function(t){this.setValue(t.data.colClassHelper)},commit:function(t){t.setData("colClassHelper",this.getValue())}}]},{type:"html",html:'<br><h3 style="font-size: 130%; font-weight: 600;">'+u.documentation+"</h3>"},{type:"hbox",styles:["vertical-align:top"],children:o}]}]}});